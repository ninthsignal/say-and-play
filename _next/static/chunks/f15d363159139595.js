(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},98183,(e,t,n)=>{"use strict";function r(e){let t={};for(let[n,r]of e.entries()){let e=t[n];void 0===e?t[n]=r:Array.isArray(e)?e.push(r):t[n]=[e,r]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;for(let[n,r]of Object.entries(e))if(Array.isArray(r))for(let e of r)t.append(n,i(e));else t.set(n,i(r));return t}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let t of n){for(let n of t.keys())e.delete(n);for(let[n,r]of t.entries())e.append(n,r)}return e}Object.defineProperty(n,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{assign:function(){return o},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return s}})},95057,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{formatUrl:function(){return s},formatWithValidation:function(){return a},urlObjectKeys:function(){return o}});let r=e.r(90809)._(e.r(98183)),i=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:n}=e,s=e.protocol||"",o=e.pathname||"",a=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:n&&(c=t+(~n.indexOf(":")?"["+n+"]":n),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(r.urlQueryToSearchParams(l)));let u=e.search||l&&"?"+l||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||i.test(s))&&!1!==c?(c="//"+(c||""),o&&"/"!==o[0]&&(o="/"+o)):c||(c=""),a&&"#"!==a[0]&&(a="#"+a),u&&"?"!==u[0]&&(u="?"+u),""+s+c+(o=o.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+a}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function a(e){return s(e)}},18581,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useMergedRef",{enumerable:!0,get:function(){return i}});let r=e.r(71645);function i(e,t){let n=(0,r.useRef)(null),i=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=n.current;e&&(n.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(n.current=s(e,r)),t&&(i.current=s(t,r))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},18967,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{DecodeError:function(){return g},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return y},NormalizeError:function(){return m},PageNotFoundError:function(){return b},SP:function(){return p},ST:function(){return d},WEB_VITALS:function(){return r},execOnce:function(){return i},getDisplayName:function(){return c},getLocationOrigin:function(){return a},getURL:function(){return l},isAbsoluteUrl:function(){return o},isResSent:function(){return u},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return x}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,n=!1;return function(){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n||(n=!0,t=e(...i)),t}}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>s.test(e);function a(){let{protocol:e,hostname:t,port:n}=window.location;return e+"//"+t+(n?":"+n:"")}function l(){let{href:e}=window.location,t=a();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function u(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function h(e,t){let n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(n&&u(n))return r;if(!r)throw Object.defineProperty(Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+r+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}let p="undefined"!=typeof performance,d=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class m extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class y extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function x(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isLocalURL",{enumerable:!0,get:function(){return s}});let r=e.r(18967),i=e.r(52817);function s(e){if(!(0,r.isAbsoluteUrl)(e))return!0;try{let t=(0,r.getLocationOrigin)(),n=new URL(e,t);return n.origin===t&&(0,i.hasBasePath)(n.pathname)}catch(e){return!1}}},84508,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},22016,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{default:function(){return m},useLinkStatus:function(){return y}});let r=e.r(90809),i=e.r(43476),s=r._(e.r(71645)),o=e.r(95057),a=e.r(8372),l=e.r(18581),c=e.r(18967),u=e.r(5550);e.r(33525);let f=e.r(91949),h=e.r(73668),p=e.r(99781);e.r(84508);let d=e.r(65165);function g(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function m(e){var t;let n,r,o,[m,y]=(0,s.useOptimistic)(f.IDLE_LINK_STATUS),v=(0,s.useRef)(null),{href:x,as:j,children:w,prefetch:S=null,passHref:T,replace:C,shallow:R,scroll:O,onClick:P,onMouseEnter:E,onTouchStart:L,legacyBehavior:A=!1,onNavigate:k,ref:M,unstable_dynamicOnHover:_,...N}=e;n=w,A&&("string"==typeof n||"number"==typeof n)&&(n=(0,i.jsx)("a",{children:n}));let F=s.default.useContext(a.AppRouterContext),I=!1!==S,D=!1!==S?null===(t=S)||"auto"===t?d.FetchStrategy.PPR:d.FetchStrategy.Full:d.FetchStrategy.PPR,{href:U,as:B}=s.default.useMemo(()=>{let e=g(x);return{href:e,as:j?g(j):e}},[x,j]);A&&(r=s.default.Children.only(n));let W=A?r&&"object"==typeof r&&r.ref:M,z=s.default.useCallback(e=>(null!==F&&(v.current=(0,f.mountLinkInstance)(e,U,F,D,I,y)),()=>{v.current&&((0,f.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,f.unmountPrefetchableInstance)(e)}),[I,U,F,D,y]),$={ref:(0,l.useMergedRef)(z,W),onClick(e){A||"function"!=typeof P||P(e),A&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),F&&(e.defaultPrevented||function(e,t,n,r,i,o,a){let{nodeName:l}=e.currentTarget;if(!("A"===l.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,h.isLocalURL)(t)){i&&(e.preventDefault(),location.replace(t));return}if(e.preventDefault(),a){let e=!1;if(a({preventDefault:()=>{e=!0}}),e)return}s.default.startTransition(()=>{(0,p.dispatchNavigateAction)(n||t,i?"replace":"push",null==o||o,r.current)})}}(e,U,B,v,C,O,k))},onMouseEnter(e){A||"function"!=typeof E||E(e),A&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),F&&I&&(0,f.onNavigationIntent)(e.currentTarget,!0===_)},onTouchStart:function(e){A||"function"!=typeof L||L(e),A&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),F&&I&&(0,f.onNavigationIntent)(e.currentTarget,!0===_)}};return(0,c.isAbsoluteUrl)(B)?$.href=B:A&&!T&&("a"!==r.type||"href"in r.props)||($.href=(0,u.addBasePath)(B)),o=A?s.default.cloneElement(r,$):(0,i.jsx)("a",{...N,...$,children:n}),(0,i.jsx)(b.Provider,{value:m,children:o})}let b=(0,s.createContext)(f.IDLE_LINK_STATUS),y=()=>(0,s.useContext)(b);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},78333,(e,t,n)=>{var r=0/0,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=e.g&&e.g.Object===Object&&e.g,u="object"==typeof self&&self&&self.Object===Object&&self,f=c||u||Function("return this")(),h=Object.prototype.toString,p=Math.max,d=Math.min,g=function(){return f.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==h.call(t))return r;if(m(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=m(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var c=o.test(e);return c||a.test(e)?l(e.slice(2),c?2:8):s.test(e)?r:+e}t.exports=function(e,t,n){var r,i,s,o,a,l,c=0,u=!1,f=!1,h=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function v(e){var n=e-l,r=e-c;return void 0===l||n>=t||n<0||f&&r>=s}function x(){var e,n,r,i=g();if(v(i))return j(i);a=setTimeout(x,(e=i-l,n=i-c,r=t-e,f?d(r,s-n):r))}function j(e){return(a=void 0,h&&r)?y(e):(r=i=void 0,o)}function w(){var e,n=g(),s=v(n);if(r=arguments,i=this,l=n,s){if(void 0===a)return c=e=l,a=setTimeout(x,t),u?y(e):o;if(f)return a=setTimeout(x,t),y(l)}return void 0===a&&(a=setTimeout(x,t)),o}return t=b(t)||0,m(n)&&(u=!!n.leading,s=(f="maxWait"in n)?p(b(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},w.flush=function(){return void 0===a?o:j(g())},w}},48218,61881,e=>{"use strict";let t;function n(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){var o=e.apply(t,r);function a(e){n(o,i,s,a,l,"next",e)}function l(e){n(o,i,s,a,l,"throw",e)}a(void 0)})}}e.s(["default",()=>w,"useSpeechRecognition",()=>j],48218);var i=e.i(71645),s=e.i(78333);let o="undefined"!=typeof window&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition);var a=()=>/(android)/i.test("undefined"!=typeof navigator?navigator.userAgent:"");let l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(e=>e.trim()).join(" ").trim()},c=/\s*\((.*?)\)\s*/g,u=/(\(\?:[^)]+\))\?/g,f=/(\(\?)?:\w+/g,h=/\*/g,p=/[-{}[\]+?.,\\^$|#]/g,d=()=>"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.mediaDevices&&void 0!==window.navigator.mediaDevices.getUserMedia&&(void 0!==window.AudioContext||void 0!==window.webkitAudioContext);class g{setSpeechRecognition(e){let t=!!e&&(e===o||d());t&&(this.disableRecognition(),this.recognition=new e,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(t)}subscribe(e,t){this.subscribers[e]=t}unsubscribe(e){delete this.subscribers[e]}emitListeningChange(e){this.listening=e,Object.keys(this.subscribers).forEach(t=>{let{onListeningChange:n}=this.subscribers[t];n(e)})}emitMicrophoneAvailabilityChange(e){this.isMicrophoneAvailable=e,Object.keys(this.subscribers).forEach(t=>{let{onMicrophoneAvailabilityChange:n}=this.subscribers[t];n(e)})}emitTranscriptChange(e,t){Object.keys(this.subscribers).forEach(n=>{let{onTranscriptChange:r}=this.subscribers[n];r(e,t)})}emitClearTranscript(){Object.keys(this.subscribers).forEach(e=>{let{onClearTranscript:t}=this.subscribers[e];t()})}emitBrowserSupportsSpeechRecognitionChange(e){Object.keys(this.subscribers).forEach(t=>{let{onBrowserSupportsSpeechRecognitionChange:n,onBrowserSupportsContinuousListeningChange:r}=this.subscribers[t];n(e),r(e)})}disconnect(e){if(this.recognition&&this.listening)switch(e){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;default:this.pauseAfterDisconnect=!0,this.stop()}}disableRecognition(){this.recognition&&(this.recognition.onresult=()=>{},this.recognition.onend=()=>{},this.recognition.onerror=()=>{},this.listening&&this.stopListening())}onError(e){e&&e.error&&"not-allowed"===e.error&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}onRecognitionDisconnect(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}updateTranscript(e){let{results:t,resultIndex:n}=e,r=void 0===n?t.length-1:n;this.interimTranscript="",this.finalTranscript="";for(let e=r;e<t.length;++e)t[e].isFinal&&(!a()||t[e][0].confidence>0)?this.updateFinalTranscript(t[e][0].transcript):this.interimTranscript=l(this.interimTranscript,t[e][0].transcript);let i=!1;""===this.interimTranscript&&""!==this.finalTranscript?(this.previousResultWasFinalOnly&&(i=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,i||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}updateFinalTranscript(e){this.finalTranscript=l(this.finalTranscript,e)}resetTranscript(){this.disconnect("RESET")}startListening(){return r(function*(){let{continuous:e=!1,language:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.recognition)return;let n=e!==this.recognition.continuous,r=t&&t!==this.recognition.lang;if((n||r)&&(this.listening&&(yield this.stopListening()),this.recognition.continuous=n?e:this.recognition.continuous,this.recognition.lang=r?t:this.recognition.lang),!this.listening){this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript());try{yield this.start(),this.emitListeningChange(!0)}catch(e){e instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1)}}}).apply(this,arguments)}abortListening(){return r(function*(){this.disconnect("ABORT"),this.emitListeningChange(!1),yield new Promise(e=>{this.onStopListening=e})}).call(this)}stopListening(){return r(function*(){this.disconnect("STOP"),this.emitListeningChange(!1),yield new Promise(e=>{this.onStopListening=e})}).call(this)}getRecognition(){return this.recognition}start(){return r(function*(){this.recognition&&!this.listening&&(yield this.recognition.start(),this.listening=!0)}).call(this)}stop(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}abort(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}constructor(e){this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=()=>{},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(e),a()&&(this.updateFinalTranscript=(0,s.default)(this.updateFinalTranscript,250,{leading:!0}))}}let m="CLEAR_TRANSCRIPT",b="APPEND_TRANSCRIPT",y=(e,t)=>{switch(t.type){case m:return{interimTranscript:"",finalTranscript:""};case b:return{interimTranscript:t.payload.interimTranscript,finalTranscript:l(e.finalTranscript,t.payload.finalTranscript)};default:throw Error()}},v=!!o,x=v&&!a(),j=function(){let{transcribing:e=!0,clearTranscriptOnListen:t=!0,commands:n=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[r]=(0,i.useState)(w.getRecognitionManager()),[s,o]=(0,i.useState)(v),[a,d]=(0,i.useState)(x),[{interimTranscript:g,finalTranscript:j},S]=(0,i.useReducer)(y,{interimTranscript:r.interimTranscript,finalTranscript:""}),[T,C]=(0,i.useState)(r.listening),[R,O]=(0,i.useState)(r.isMicrophoneAvailable),P=(0,i.useRef)(n);P.current=n;let E=()=>{S({type:m})},L=(0,i.useCallback)(()=>{r.resetTranscript(),E()},[r]),A=(0,i.useCallback)((e,t)=>{P.current.forEach(n=>{let{command:r,callback:i,matchInterim:s=!1,isFuzzyMatch:o=!1,fuzzyMatchingThreshold:a=.8,bestMatchOnly:l=!1}=n,d=!t&&s?e.trim():t.trim(),g=(Array.isArray(r)?r:[r]).map(e=>{if(o){var t;let n=("object"==typeof e?e.toString():e).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),r=((e,t)=>{if(e=e.replace(/\s+/g,"").toLowerCase(),t=t.replace(/\s+/g,"").toLowerCase(),!e.length&&!t.length)return 1;if(!e.length||!t.length)return 0;if(e===t)return 1;if(1===e.length&&1===t.length||e.length<2||t.length<2)return 0;let n=new Map;for(let t=0;t<e.length-1;t++){let r=e.substring(t,t+2),i=n.has(r)?n.get(r)+1:1;n.set(r,i)}let r=0;for(let e=0;e<t.length-1;e++){let i=t.substring(e,e+2),s=n.has(i)?n.get(i):0;s>0&&(n.set(i,s-1),r++)}return 2*r/(e.length+t.length-2)})(n,d);return r>=a?{command:e,commandWithoutSpecials:n,howSimilar:r,isFuzzyMatch:!0}:null}let n=((t=e)instanceof RegExp?RegExp(t.source,"i"):RegExp("^"+(t=t.replace(p,"\\$&").replace(c,"(?:$1)?").replace(f,(e,t)=>t?e:"([^\\s]+)").replace(h,"(.*?)").replace(u,"\\s*$1?\\s*"))+"$","i")).exec(d);return n?{command:e,parameters:n.slice(1)}:null}).filter(e=>e);if(o&&l&&g.length>=2){g.sort((e,t)=>t.howSimilar-e.howSimilar);let{command:e,commandWithoutSpecials:t,howSimilar:n}=g[0];i(t,d,n,{command:e,resetTranscript:L})}else g.forEach(e=>{if(e.isFuzzyMatch){let{command:t,commandWithoutSpecials:n,howSimilar:r}=e;i(n,d,r,{command:t,resetTranscript:L})}else{let{command:t,parameters:n}=e;i(...n,{command:t,resetTranscript:L})}})})},[L]),k=(0,i.useCallback)((t,n)=>{e&&S({type:b,payload:{interimTranscript:t,finalTranscript:n}}),A(t,n)},[A,e]),M=(0,i.useCallback)(()=>{t&&E()},[t]);return(0,i.useEffect)(()=>{let e=w.counter;return w.counter+=1,r.subscribe(e,{onListeningChange:C,onMicrophoneAvailabilityChange:O,onTranscriptChange:k,onClearTranscript:M,onBrowserSupportsSpeechRecognitionChange:o,onBrowserSupportsContinuousListeningChange:d}),()=>{r.unsubscribe(e)}},[e,t,r,k,M]),{transcript:l(j,g),interimTranscript:g,finalTranscript:j,listening:T,isMicrophoneAvailable:R,resetTranscript:L,browserSupportsSpeechRecognition:s,browserSupportsContinuousListening:a}},w={counter:0,applyPolyfill:e=>{t?t.setSpeechRecognition(e):t=new g(e);let n=!!e&&d();v=n,x=n},removePolyfill:()=>{t?t.setSpeechRecognition(o):t=new g(o),x=(v=!!o)&&!a()},getRecognitionManager:()=>(t||(t=new g(o)),t),getRecognition:()=>w.getRecognitionManager().getRecognition(),startListening:function(){let{continuous:e,language:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(function*(){let n=w.getRecognitionManager();yield n.startListening({continuous:e,language:t})})()},stopListening:()=>r(function*(){let e=w.getRecognitionManager();yield e.stopListening()})(),abortListening:()=>r(function*(){let e=w.getRecognitionManager();yield e.abortListening()})(),browserSupportsSpeechRecognition:()=>v,browserSupportsContinuousListening:()=>x};function S(e){return e.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\bredbox\b/g,"red box").split(/\s+/).filter(Boolean)}function T(e,t){if(e===t)return 0;if(!e.length)return t.length;if(!t.length)return e.length;let n=Array.from({length:e.length+1},()=>Array(t.length+1).fill(0));for(let t=0;t<=e.length;t+=1)n[t][0]=t;for(let e=0;e<=t.length;e+=1)n[0][e]=e;for(let r=1;r<=e.length;r+=1)for(let i=1;i<=t.length;i+=1){let s=+(e[r-1]!==t[i-1]);n[r][i]=Math.min(n[r-1][i]+1,n[r][i-1]+1,n[r-1][i-1]+s)}return n[e.length][t.length]}function C(e){return e.join(" ")}function R(e,t,n){let r=S(e);if(!r.length)return!1;let i=C(r),s=r.join("");return t.some(e=>{let t=S(e);if(!t.length)return!1;let o=C(t),a=t.join("");if(i.includes(o)||s.includes(a))return!0;if(r.length>=t.length){let e=r.slice(-t.length),i=C(e),s=e.join("");if(i.includes(o)||s.includes(a)||T(i,o)<=n||T(s,a)<=n)return!0}return!1})}e.s(["phrasesMatch",()=>R],61881)},18566,(e,t,n)=>{t.exports=e.r(76562)},85835,e=>{"use strict";e.s(["SceneRoot",()=>k],85835);var t=e.i(43476),n=e.i(71645),r=e.i(18566);e.i(65658);var i=e.i(7027),s=e.i(74080),o=e.i(20566),a=/^--/,l={},c={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u=["Webkit","Ms","Moz","O"];c=Object.keys(c).reduce((e,t)=>(u.forEach(n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t]),e),c);var f=/^(matrix|translate|scale|rotate|skew)/,h=/^(translate)/,p=/^(rotate|skew)/,d=(e,t)=>i.is.num(e)&&0!==e?e+t:e,g=(e,t)=>i.is.arr(e)?e.every(e=>g(e,t)):i.is.num(e)?e===t:parseFloat(e)===t,m=class extends o.AnimatedObject{constructor({x:e,y:t,z:n,...r}){let s=[],o=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),o.push(e=>["translate3d(".concat(e.map(e=>d(e,"px")).join(","),")"),g(e,0)])),(0,i.eachProp)(r,(e,t)=>{if("transform"===t)s.push([e||""]),o.push(e=>[e,""===e]);else if(f.test(t)){if(delete r[t],i.is.und(e))return;let n=h.test(t)?"px":p.test(t)?"deg":"";s.push((0,i.toArray)(e)),o.push("rotate3d"===t?e=>{let[t,r,i,s]=e;return["rotate3d(".concat(t,",").concat(r,",").concat(i,",").concat(d(s,n),")"),g(s,0)]}:e=>["".concat(t,"(").concat(e.map(e=>d(e,n)).join(","),")"),g(e,+!!t.startsWith("scale"))])}}),s.length&&(r.transform=new b(s,o)),super(r)}},b=class extends i.FluidValue{get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return(0,i.each)(this.inputs,(n,r)=>{let s=(0,i.getFluidValue)(n[0]),[o,a]=this.transforms[r](i.is.arr(s)?s:n.map(i.getFluidValue));e+=" "+o,t=t&&a}),t?"none":e}observerAdded(e){1==e&&(0,i.each)(this.inputs,e=>(0,i.each)(e,e=>(0,i.hasFluidValue)(e)&&(0,i.addFluidObserver)(e,this)))}observerRemoved(e){0==e&&(0,i.each)(this.inputs,e=>(0,i.each)(e,e=>(0,i.hasFluidValue)(e)&&(0,i.removeFluidObserver)(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),(0,i.callFluidObservers)(this,e)}constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}};i.Globals.assign({batchedUpdates:s.unstable_batchedUpdates,createStringInterpolator:i.createStringInterpolator,colors:i.colors});var y=(0,o.createHost)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;let n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{className:r,style:i,children:s,scrollTop:o,scrollLeft:u,viewBox:f,...h}=t,p=Object.values(h),d=Object.keys(h).map(t=>n||e.hasAttribute(t)?t:l[t]||(l[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));for(let t in void 0!==s&&(e.textContent=s),i)if(i.hasOwnProperty(t)){var g;let n=null==(g=i[t])||"boolean"==typeof g||""===g?"":"number"!=typeof g||0===g||a.test(t)||c.hasOwnProperty(t)&&c[t]?(""+g).trim():g+"px";a.test(t)?e.style.setProperty(t,n):e.style[t]=n}d.forEach((t,n)=>{e.setAttribute(t,p[n])}),void 0!==r&&(e.className=r),void 0!==o&&(e.scrollTop=o),void 0!==u&&(e.scrollLeft=u),void 0!==f&&e.setAttribute("viewBox",f)},createAnimatedStyle:e=>new m(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:n,...r}=e;return r}}).animated,v=e.i(84320),x=e.i(12992),j=e.i(48218),w=e.i(92086),S=e.i(99837),T=e.i(61881);function C(e){let{level:r,color:i}=e,s=(0,n.useId)(),o="".concat(s,"-gradient"),a="".concat(s,"-clip");return(0,t.jsxs)("svg",{viewBox:"0 0 120 160",className:"h-44 w-28 text-sky-900","aria-hidden":!0,children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:o,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.7)"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"rgba(255,255,255,0.2)"})]}),(0,t.jsx)("clipPath",{id:a,children:(0,t.jsx)("path",{d:"M40 26 H80 L74 126 Q72 134 64 136 H56 Q48 134 46 126 Z"})})]}),(0,t.jsx)("path",{d:"M30 10 h60 l-10 120 a10 10 0 0 1 -10 9 h-20 a10 10 0 0 1 -10 -9 z",fill:"url(#".concat(o,")"),stroke:"rgba(255,255,255,0.6)",strokeWidth:"4"}),(0,t.jsx)("g",{clipPath:"url(#".concat(a,")"),children:(0,t.jsx)(y.rect,{x:34,width:52,rx:10,fill:i,y:r.to(e=>136-110*e),height:r.to(e=>Math.max(0,110*e))})}),(0,t.jsx)("path",{d:"M40 26 h40",stroke:"rgba(255,255,255,0.7)",strokeWidth:"3",strokeLinecap:"round"})]})}function R(e){let{scene:n,isComplete:r}=e,i=(0,v.useSpring)({level:r?n.afterLevel:n.beforeLevel,config:v.config.gentle}),s=(0,v.useSpring)({opacity:+!r,scale:r?.85:1,config:v.config.gentle}),o=(0,v.useSpring)({opacity:+!!r,scale:r?1:.9,config:v.config.gentle});return(0,t.jsxs)("div",{className:"relative h-60 w-60 max-w-full",children:[(0,t.jsx)(y.div,{className:"absolute inset-0 flex items-center justify-center",style:s,children:(0,t.jsx)(C,{level:i.level,color:n.accentColor})}),(0,t.jsx)(y.div,{className:"absolute inset-0 flex items-center justify-center",style:o,children:(0,t.jsx)(C,{level:i.level,color:n.accentColor})})]})}function O(e){let{plateColor:r}=e,i=(0,n.useId)(),s="".concat(i,"-plate-gradient");return(0,t.jsxs)("svg",{viewBox:"0 0 200 200",className:"h-48 w-48","aria-hidden":!0,children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("radialGradient",{id:s,cx:"50%",cy:"50%",r:"70%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.95)"}),(0,t.jsx)("stop",{offset:"65%",stopColor:"rgba(255,255,255,0.7)"}),(0,t.jsx)("stop",{offset:"100%",stopColor:r})]})}),(0,t.jsx)("circle",{cx:"100",cy:"100",r:"88",fill:r,opacity:"0.4"}),(0,t.jsx)("ellipse",{cx:"100",cy:"116",rx:"72",ry:"22",fill:"rgba(0,0,0,0.05)"}),(0,t.jsx)("circle",{cx:"100",cy:"100",r:"75",fill:"url(#".concat(s,")"),stroke:"rgba(255,255,255,0.5)",strokeWidth:"4"}),(0,t.jsx)("circle",{cx:"100",cy:"100",r:"40",fill:"rgba(255,255,255,0.8)",stroke:"rgba(255,255,255,0.6)",strokeWidth:"3"})]})}function P(e){let{color:n}=e,r=(0,v.useSpring)({level:.6,config:v.config.gentle});return(0,t.jsx)(C,{level:r.level,color:n})}function E(e){let{scene:n,isComplete:r}=e,i=(0,v.useSpring)({translateX:"hungry"===n.variant&&r?0:-100,scale:"thirsty"===n.variant&&r?.85:1,opacity:"thirsty"===n.variant&&r?0:1,config:v.config.gentle}),s=(0,v.useSpring)({translateX:"hungry"===n.variant?r?240:100:"thirsty"===n.variant?100*!r:0,scale:"hungry"===n.variant&&r?.9:1,opacity:"hungry"===n.variant&&r?0:1,config:v.config.gentle});return(0,t.jsxs)("div",{className:"relative h-60 w-60 max-w-full",children:[(0,t.jsx)(y.div,{className:"absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 items-center justify-center",style:{transform:(0,v.to)([i.translateX,i.scale],(e,t)=>"translate3d(".concat(e,"px,0,0) scale(").concat(t,")")),opacity:i.opacity},children:(0,t.jsx)(O,{plateColor:n.plateColor})}),(0,t.jsx)(y.div,{className:"absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 items-center justify-center",style:{transform:(0,v.to)([s.translateX,s.scale],(e,t)=>"translate3d(".concat(e,"px,0,0) scale(").concat(t,")")),opacity:s.opacity},children:(0,t.jsx)(P,{color:n.cupColor})})]})}function L(e){let{scene:n,isComplete:r}=e,i=r?"complete":"incomplete";return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-8 text-center","data-testid":"scene-slide","data-scene-state":i,children:["juice"===n.variant?(0,t.jsx)(R,{scene:n,isComplete:r}):(0,t.jsx)(E,{scene:n,isComplete:r}),(0,t.jsx)(w.AudioPromptButton,{label:"Say: ".concat(n.prompt),src:n.audio,className:"items-center text-center"})]})}function A(e){var i;let{scenes:s}=e,o=s.length,{tolerance:a}=(0,S.useSpeechSettings)(),[l,c]=(0,n.useState)(0),[u,f]=(0,n.useState)(1),[h,p]=(0,n.useState)({}),d=(0,r.usePathname)(),g=(0,n.useRef)(""),m=(0,n.useRef)(!1),{transcript:b,browserSupportsSpeechRecognition:w,browserSupportsContinuousListening:C,isMicrophoneAvailable:R,resetTranscript:O}=(0,j.useSpeechRecognition)(),P=(0,n.useMemo)(()=>({language:"en-US",...C?{continuous:!0}:{}}),[C]),E=w&&!R;(0,n.useEffect)(()=>{if(w)return j.default.startListening(P).catch(()=>{}),()=>{j.default.stopListening().catch(()=>{})}},[w,P]),(0,n.useEffect)(()=>{d&&/\/play\/phrase-rainbow\/?$/.test(d)&&(c(0),f(1),p({}),g.current="",m.current=!0,O())},[d,O]),(0,n.useEffect)(()=>{if(!o){c(0),p({}),g.current="",m.current=!1;return}c(e=>Math.min(e,o-1))},[o]),(0,n.useEffect)(()=>{let e=e=>{var t,n,r;let i=null!=(r=null==(t=e.detail)?void 0:t.sceneId)?r:null==(n=s[l])?void 0:n.id;"number"==typeof i&&p(e=>({...e,[i]:!0}))};return window.addEventListener("phrase-rainbow:complete",e),()=>{window.removeEventListener("phrase-rainbow:complete",e)}},[l,s]);let A=(0,v.useTransition)(l,{keys:e=>{var t,n;return null!=(n=null==(t=s[e])?void 0:t.id)?n:e},from:{opacity:0,transform:"translate3d(".concat(1===u?"100%":"-100%",",0,0)")},enter:{opacity:1,transform:"translate3d(0%,0,0)"},leave:{opacity:0,transform:"translate3d(".concat(1===u?"-40%":"40%",",0,0)")},initial:{opacity:1,transform:"translate3d(0%,0,0)"},config:v.config.stiff}),k=o&&null!=(i=s[l])?i:null;(0,n.useEffect)(()=>{if(!k)return;let e=b.trim().toLowerCase();if(m.current){e||(m.current=!1,g.current="");return}if(!e){g.current="";return}if(e!==g.current){if((0,T.phrasesMatch)(e,k.phraseVariants,a)){p(e=>({...e,[k.id]:!0})),g.current=e,m.current=!0,O();return}g.current=e}},[k,O,a,b]);let M=(0,x.useDrag)(e=>{let{last:t,movement:[n],velocity:[r],direction:[i]}=e;if(o&&t&&(Math.abs(n)>60||r>.35)){let e=n<0||i<0?1:-1;f(e),c(t=>(t+e+o)%o)}},{axis:"x",filterTaps:!0});return k?(0,t.jsxs)("div",{className:"relative flex h-screen w-full touch-pan-y","aria-live":"polite",...M(),children:[E?(0,t.jsx)("div",{className:"pointer-events-none absolute left-1/2 top-8 z-20 w-[min(90%,320px)] -translate-x-1/2 rounded-full bg-black/60 px-5 py-3 text-center text-sm font-semibold text-white shadow-lg",children:"Turn on your microphone to practice the scene."}):null,k?(0,t.jsx)("div",{className:"absolute inset-0",style:{background:k.background},"aria-hidden":!0}):null,A((e,n)=>{var r;let i=null!=(r=s[n])?r:k;return i?(0,t.jsx)(y.div,{style:{...e,background:i.background},className:"absolute inset-0 flex flex-col items-center justify-center px-6 py-12 text-white will-change-transform",children:(0,t.jsx)(L,{scene:i,isComplete:!!h[i.id]})},i.id):null}),null]}):null}function k(e){let{scenes:i}=e,s=(0,r.usePathname)(),o=(0,n.useRef)("");return o.current||(o.current="".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2))),(0,n.useEffect)(()=>{s&&/\/play\/scenes\/?$/.test(s)&&(o.current="".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2)))},[s]),(0,t.jsx)(A,{scenes:i},o.current)}}]);